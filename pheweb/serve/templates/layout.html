<!doctype html>
<head>
<title>{% include 'title.html' %}</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- <meta name="robots" content="noindex"> -->

{% if config['browser'] == 'FINNGEN' %}
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/vnd.microsoft.icon" />
{% endif %}


<!-- configuration -->
<script src="{{ url_for('static', filename='resources/config.js') }}" type="text/javascript"></script>
<script type="text/javascript">
window.config = { 'userInterface' : (typeof userInterface == 'undefined'?undefined:userInterface) ,
                  'metaData' : (typeof metaData == 'undefined'?undefined:metaData)}
</script>
<!-- configuration -->


<script src="{{ url_for('static', filename='vendor/jquery-1.12.3.min.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='vendor/underscore-1.8.3.min.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='vendor/typeahead-0.11.1.bundle.min.js') }}" type="text/javascript"></script>

<link  href="{{ url_for('static', filename='vendor/bootstrap-3.3.6.min.css') }}" rel="stylesheet" type="text/css" crossorigin="anonymous">
<script src="{{ url_for('static', filename='vendor/popper.min.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='vendor/bootstrap-3.3.6.min.js') }}" type="text/javascript" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/locuszoom@0.10.2/dist/locuszoom.vendor.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/d3-tip@0.6.7/index.min.js"></script>

<link href="{{ url_for('static', filename='common.css') }}" rel="stylesheet" type="text/css">
<script src="{{ url_for('static', filename='common.js') }}" type="text/javascript"></script>

<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='react-tabs.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='react-table.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='react-style.css') }}">

{% if config.SENTRY_DSN %}
  <script src="https://cdn.ravenjs.com/3.21.0/raven.min.js" crossorigin="anonymous"></script>
  <script type="text/javascript">
  Raven.config({{ config.SENTRY_DSN|tojson|safe }},
    {release: {{ config.PHEWEB_VERSION|tojson|safe }} }
  ).install()
  </script>
{% endif %}

{% if config['GOOGLE_ANALYTICS_TRACKING_ID'] %}
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', '{{ config['GOOGLE_ANALYTICS_TRACKING_ID'] }}', 'auto');
    ga('send', 'pageview');
  </script>
{% endif %}

{% if config['GLOBAL_SITE_TAG_ID'] %}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ config['GLOBAL_SITE_TAG_ID'] }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '{{ config['GLOBAL_SITE_TAG_ID'] }}');
  </script>
{% endif %}

{% block in_head %}{% endblock %}
</head>

<body>
<nav class="navbar navbar-default" style="background: white;">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle pull-right" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            {% block navbar_left %}
	    <a href="/">
	      {{ config.logo|safe }}
	      <span class="logo-header">{{ config['title'] }}</span>
	    </a>
            <div class="navbar-left" id="navbar_form_container">
                <form action="#" class="navbar-form searchbox-form" role="search">
                    <div class="form-group" id="navbar-awesomebar">
                        <input id="navbar-searchbox-input" name="query" class="form-control typeahead" type="text" size="40" placeholder="Search for a variant, gene, or phenotype">
                    </div>
                </form>
            </div>
            {% endblock %}
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/random" style="color: #333; font-weight: bold;">Random</a></li>
		{% if config.lof %}
                <li><a href="/lof" style="color: #333; font-weight: bold;">LoF</a></li>
		{% endif %}
		{% if config.coding %}
                <li><a href="/coding" style="color: #333; font-weight: bold;">Coding</a></li>
		{% endif %}
		{% if config.chip %}
                <li><a href="/chip" style="color: #333; font-weight: bold;">Chip</a></li>
		{% endif %}
		{% if config.endpoint_def %}
                <li><a href="{{ url_for('static', filename=config.endpoint_def) }}" style="color: #333; font-weight: bold;">Download Endpoint Definitions</a></li>
		{% endif %}
                <li><a href="/about" style="color: #333; font-weight: bold;">About</a></li>
                {% if current_user and current_user.is_authenticated %}
                <li><a href="{{ url_for('logout') }}" style="color: #333; font-weight: bold;">Logout ({{ current_user.email }})</a></li>
                {% endif %}

            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>
{% block body %}
<div class="container-fluid">
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <br><br> {# Don't get stuck behind the navbar #}
        {% for message in messages %}
          <div class="alert alert-danger" role="alert"><b>Error:</b> {{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    {% block contained %}
    {% endblock %}
</div>
{% endblock %}
</body>
