<!doctype html>
<html itemscope=""
      itemtype="http://schema.org/WebPage"
      lang="en">
  <head>
    <!-- configuration -->
    <link href="https://cdn.jsdelivr.net/npm/locuszoom@0.10.2/dist/locuszoom.css" rel="stylesheet">
    <script src="%REACT_APP_CONFIG_URL%" type="text/javascript"></script>
    <script type="text/javascript">
      if(typeof config !== 'undefined') {
	  window.config = config
      } else {
	  console.warn('configuration not loaded ... using default configuration')
      }
    </script>
    <!-- https://stackoverflow.com/questions/75413887/how-to-append-google-analytics-code-in-head-using-js -->
    <script>
      const trackingId = window?.config?.application?.trackingId;
      if(trackingId) {
        (function () {
          const head = document.getElementsByTagName("head")[0];
          const trackingScript = document.createElement('script');
          trackingScript.setAttribute('src', `https://www.googletagmanager.com/gtag/js?id=${trackingId}`);
          trackingScript.onload = function () {
            window.dataLayer = window.dataLayer || [];
            function gtag () { dataLayer.push(arguments); }
            gtag('js', new Date());
            console.log('window.dataLayer Executed', window.dataLayer)
            gtag('config', trackingId);
          }
          head.appendChild(trackingScript);
        })();
      }
    </script>
    <!-- configuration -->
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
